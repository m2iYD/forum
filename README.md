# Forum

## Introduction

Ce projet vise à concevoir une plateforme de forum où les utilisateurs peuvent poser des questions et y répondre. Il repose sur un modèle relationnel bien structuré permettant une gestion efficace des thèmes, des auteurs, des questions et des réponses.

## MCD

![MCD](MCD.PNG)

## MLD

<!-- Generated by Mocodo 4.2.12 -->

- **ANSWER** (<u>id_answer</u>, content, nb_like, nb_dislike, author_id, question_id, created_at, updated_at)
- **AUTHOR** (<u>id_author</u>, firstname, lastname, email, password, _#id_question_, _#id_answer_)
- **QUESTION** (<u>id_question</u>, content, author_id, theme_id, created_at, updated_at, _#id_answer_)
- **THEME** (<u>id_theme</u>, name, _#id_question_)

## MPD

<details>
  <summary>Afficher le code SQL</summary>
  <pre><code>
-- CREATE DATABASE forum;

-- \c forum;

-- Désactiver temporairement les contraintes de clé étrangère
SET session_replication_role = 'replica';

-- Supprimer toutes les tables, vues et séquences
DO $$
DECLARE
    r RECORD;
BEGIN
    -- Supprimer les tables
    FOR r IN (SELECT tablename FROM pg_tables WHERE schemaname = 'public') LOOP
        EXECUTE 'DROP TABLE IF EXISTS ' || quote_ident(r.tablename) || ' CASCADE';
    END LOOP;

    -- Supprimer les vues
    FOR r IN (SELECT viewname FROM pg_views WHERE schemaname = 'public') LOOP
        EXECUTE 'DROP VIEW IF EXISTS ' || quote_ident(r.viewname) || ' CASCADE';
    END LOOP;

    -- Supprimer les séquences (auto-incrément)
    FOR r IN (SELECT relname FROM pg_class WHERE relkind = 'S' AND relnamespace = 'public'::regnamespace) LOOP
        EXECUTE 'DROP SEQUENCE IF EXISTS ' || quote_ident(r.relname) || ' CASCADE';
    END LOOP;
END $$;

-- Réactiver les contraintes de clé étrangère
SET session_replication_role = 'origin';

-- Création de la table "author" (mot-clé réservé, donc guillemets)
CREATE TABLE author (
    id_author UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    firstname VARCHAR(255) NOT NULL,
    lastname VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL CHECK (email = LOWER(email)),
    password VARCHAR(255) NOT NULL
);

-- Création de la table "theme"
CREATE TABLE theme (
    id_theme UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(255) UNIQUE NOT NULL
);

-- Création de la table "question"
CREATE TABLE question (
    id_question UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    content TEXT NOT NULL,
    author_id UUID NOT NULL,
    theme_id UUID NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NULL,
    CONSTRAINT fk_question_author FOREIGN KEY (author_id) REFERENCES author(id_author) ON DELETE CASCADE,
    CONSTRAINT fk_question_theme FOREIGN KEY (theme_id) REFERENCES theme(id_theme) ON DELETE CASCADE
);

-- Création de la table "answer"
CREATE TABLE answer (
    id_answer UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    content TEXT NOT NULL,
    nb_like INTEGER DEFAULT 0 NOT NULL CHECK (nb_like >= 0),
    nb_dislike INTEGER DEFAULT 0 NOT NULL CHECK (nb_dislike >= 0),
    author_id UUID NOT NULL,
    question_id UUID NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NULL,
    CONSTRAINT fk_answer_author FOREIGN KEY (author_id) REFERENCES author(id_author) ON DELETE CASCADE,
    CONSTRAINT fk_answer_question FOREIGN KEY (question_id) REFERENCES question(id_question) ON DELETE CASCADE
);

-- Index pour accélérer les requêtes
CREATE INDEX idx_question_author_id ON question(author_id);
CREATE INDEX idx_question_theme_id ON question(theme_id);
CREATE INDEX idx_answer_author_id ON answer(author_id);
CREATE INDEX idx_answer_question_id ON answer(question_id);
  </code></pre>
</details>

## Fonctionnalités

- **Création et gestion des comptes utilisateurs** : Inscription, connexion, modification des informations personnelles.
- **Création et gestion des questions** : Ajout, modification et suppression des questions par les auteurs.
- **Réponses aux questions** : Publication, modification et suppression des réponses.
- **Système de votes** : Possibilité de liker ou disliker les réponses.
- **Catégorisation des questions** : Association des questions à des thèmes spécifiques.

## Technologies utilisées

- **Base de données** : PostgreSQL
- **Backend** : FastAPI
- **Frontend** : JavaScript Vanilla

## Conclusion

Ce forum offre une gestion efficace des interactions entre utilisateurs à travers un modèle relationnel bien structuré. L'implémentation permet d'assurer une évolutivité et une robustesse face aux besoins futurs de la plateforme.
